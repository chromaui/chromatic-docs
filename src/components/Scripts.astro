---
import Analytics from "./Analytics.astro";

const baseUrl = import.meta.env.BASE_URL;
const isProduction = import.meta.env.MODE === "production";
---

<link rel="preconnect" href="https://fonts.gstatic.com/" cross-origin="true" />
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700,800&display=swap"
/>
{isProduction && <Analytics />}
<!--
  Adds on-hover anchors to headings: see https://www.bryanbraun.com/anchorjs/
  Only using it for summary tags.
  Using rehype-autolink-headings for headings
-->
<script is:inline src={`${baseUrl}/anchor.min.js`}></script>
<script is:inline>
  window.onload = function () {
    anchors.add("summary:not(.no-anchor), .config-option");
  };
</script>
<!-- Google Tag Manager -->
<script is:inline>
  (function (w, d, s, l, i) {
    w[l] = w[l] || [];
    w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
    var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s),
      dl = l != "dataLayer" ? "&l=" + l : "";
    j.async = true;
    j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
    f.parentNode.insertBefore(j, f);
  })(window, document, "script", "dataLayer", "GTM-K35MZQHR");
</script>
<!-- End Google Tag Manager -->
