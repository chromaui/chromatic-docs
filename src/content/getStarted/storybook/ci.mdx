---
layout: "../../../layouts/Layout.astro"
title: Automate with CI
description: Learn how to configure Chromatic with your continuous integration service
sidebar: { order: 6 }
---

import TroubleshootingCI from "../../shared-snippets/ci/troubleshooting.md";

# Automate with continuous integration

Configure CI to publish your Storybook and run Chromatic's automation whenever you push code. Badge your PRs to get notified about test and review results.

![Continuous integration](../../../images/workflow-ci.png)

## Configure CI

Before we begin, make sure you set the `CHROMATIC_PROJECT_TOKEN` environment variable (sometimes referred to as "secrets") in your CI service's configuration. Add a `chromatic` script to your `package.json` if you don't have one already, and make sure `chromatic` is listed in `devDependencies`.

```json
"scripts": {
  "chromatic": "chromatic --exit-zero-on-changes"
}
```

Integrate with popular CI tools like you would any other job. Run `npm run chromatic` to publish your Storybook. If [UI Test](/docs/test) or [UI Review](/docs/review) are enabled, it will return a non-zero exit code when there are changes. For example:

```yml
- run:
    command: npm install # install dependencies
- run:
    command: npm test # run your unit tests
- run:
    command: npm run chromatic # publish Storybook and run visual tests
```

Here's how we recommend configuring Chromatic for popular CI services:

- [GitHub Actions](/docs/github-actions)
- [GitLab Pipelines](/docs/gitlab)
- [Bitbucket Pipelines](/docs/bitbucket-pipelines)
- [CircleCI](/docs/circleci)
- [Travis CI](/docs/travisci)
- [Jenkins](/docs/jenkins)
- [Azure Pipelines](/docs/azure-pipelines)
- [Other CI providers](/docs/custom-ci-provider)

## Pull request checks

When a build runs it will automatically add a PR status check to the current pull request indicating the state of the build. By default, you'll see Storybook Publish. If you enabled UI Tests or UI Review you'll also see their respective checks.

GitHub, Bitbucket, or GitLab projects that are [linked to a repository](/docs/access) get this feature out of the box. If you use other version control services to host your code, you can write a custom CI script to add a check for Chromatic (via your CI provider).

Require checks in [GitHub](https://help.github.com/en/github/administering-a-repository/enabling-required-status-checks), [GitLab](https://docs.gitlab.com/ee/api/commits.html#post-the-build-status-to-a-commit), or [Bitbucket](https://confluence.atlassian.com/bitbucket/suggest-or-require-checks-before-a-merge-856691474.html) to ensure they are completed before merging.

![PR badges](../../../images/prbadges.png)

---

## You're all set up

Now that you've set up Chromatic, learn the recommended workflow in development and during the pull request.

<a class="btn primary round" href="/docs/in-development">
  Learn workflow
</a>

---

<TroubleshootingCI />
