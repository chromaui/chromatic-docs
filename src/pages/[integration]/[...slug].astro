---
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

export async function getStaticPaths() {
  const getStarted = await getCollection("getStarted", ({ slug }) => {
    return slug !== "introduction";
  });

  const articles = [...getStarted];

  return articles.map((article) => {
    const [integration, ...slug] = article.slug.split("/");

    return {
      params: { integration, slug: slug.join("/") },
      props: { article },
    };
  });
}

interface Props {
  article: CollectionEntry<"getStarted">;
}

const { article } = Astro.props;
const { Content } = await article.render();
---

<Content />
